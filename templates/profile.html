{% extends "base.html" %}

{% block head_stuff %}   
 <title>Profile</title>
{% endblock %}





{% block content %}
<style>
    body {
    background-color:#5cb88d32;
}
</style>
<div class="card">

<h1>{{info['name']}}</h1>

{% if filename %}
<p><img class ="foodPic rounded mx-auto d-block" src="{{url_for('propic',username=username)}}" alt="{{info['name']}}, profile picture"></p>
{% else %}
<p><img class ="mx-auto d-block" src="{{url_for('static', filename = 'foodieEmoji.png')}}" alt="Default Profile Picture" width="150" height = "150"></p>
{% endif %}

<div class="profile">
<p>username: {{username}}</p>
<p>class: {{info['classYear']}}</p>
<p>favorite dining Hall: {{dh_name}}</p>
<p>favorite food: {{info['favoriteFood']}}</p>
<p>allergies: {{info['allergies']}}</p>
<p>preferences: {{info['preferences']}} </p>
</div>
{% for entry in reviews %}
<div class="reviews">
    <span><b>@{{entry.username}} </b></span>
    <span>{{entry.entered}}</span><br>
    <span>rated <b>{{entry.name}}</b> {{entry.rating}} points</span><br>
    <span>and said "{{entry.comment}}"</span><br>
</div>
{% endfor %}


{% endblock %}


{% block extra%}

<form id="update_profile" method="GET" action="{{url_for('update', username=username)}}"> 
    <p> <input class='button' type='submit' value='update profile'> </p>
</form>
</div>

<div class="propic">
    <form method="post" action="{{url_for('profile', username = username)}}" enctype="multipart/form-data">

    <h2>upload new profile picture</h2>
    <p><i>note: file size must be smaller than 1MB</i></p>
    <p><input id="file" type="file" name="pic" class="button">
        <label for="file" class="sr-only">Upload</label>
    <input name="submit" type="submit" value="upload" class="button">

</p>
</form>
</div>
{% endblock%}


